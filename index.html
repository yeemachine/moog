<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui"
    />
    <title>Robert Moog's 86th Birthday</title>
    <link
      href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono&display=swap"
      rel="stylesheet"
    />
    <link href="https://fonts.googleapis.com/css?family=B612+Mono&display=swap" rel="stylesheet">
    <style>
      body {
        margin: 0;
        padding: 0;
        background: white;
      }
      video {
        opacity: 0;
        pointer-events: none;
        position:fixed;
      }
      canvas,
      .canvasContainer {
        display: block;
        position: absolute;
        max-width: 600px;
        width: calc(100vw - 8px);
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }
      .canvasContainer {
        max-width: 600px;
        max-height: 350px;
        width: calc(100vw - 8px);
        height: calc((100vw - 8px) * 350 / 600);
        border-radius: 8px;
        overflow: hidden;
      }
      .canvasContainer:hover{
        cursor:pointer
      }
      .canvasContainer.active:hover{
        cursor:none;
      }
      svg{
        position:absolute;
        width: 100%;
        height: 100%;
        z-index: 9999;
        pointer-events:none;
/*         transition: .5s; */
      }
      svg.scaled{
/*         transform:scale(1.1) */
      }
    </style>
<!--     <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/posenet"></script> -->
    <script src="./tone.js"></script>
    <script src="https://unpkg.com/ml5@0.4.2/dist/ml5.min.js"></script>
    <script src="./pixi.min.js"></script>
    <script src="./pixi-layers.js"></script>
    <script src="./pixi-lights.js"></script>
    <script src="./poseNet.js" defer></script>
    <script src="./video.js" defer></script>
    <script src="./script.js" defer></script>
    <script src="./audio.js" defer></script>
  </head>
  <body>
    <div class="canvasContainer">
      <canvas
        width="600"
        height="350"
        style="touch-action: none; cursor: inherit;"
      ></canvas>
      <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2400 1350" preserveAspectRatio="xMidYMin">
      <defs>
        <style>
          rect {
            -webkit-mask: url(#mask);
            mask: url(#mask);
          }
        </style>
        <mask id="mask" x="0" y="0" width="100%" height="100%" >
          <rect x="-10%" y="-10%" width="120%" height="120%" fill="white"/>
          <path class="squircle"  d="M2215.46,1305c-677.2,51-1353.67,51-2034.12,0-49.38-3.7-104-52.5-113.59-97.9-75.38-357.2-86.33-709.43,0-1064.14C80,93.27,132,48.84,181.34,45,861.79-7.46,1536.76-6,2215.46,45c49.38,3.71,101.76,48.13,113.59,97.9,85.16,358.08,83.66,713.56,0,1064.14C2317.18,1256.83,2264.8,1300.76,2215.46,1305Z">
           <animate id="animation" attributeName="d" 
             dur=".25s" fill="freeze"/>
          </path>
        </mask>
      </defs>
      <title>Theremin</title>
      <rect x="-10%" y="-10%" width="120%" height="120%" fill="white"/>
    </svg>
    </div>
    <video autoplay muted playsinline width="600" height="350"></video>
  </body>
</html>
